(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1019:function(t,n,e){var i=e(1318);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(28).default)("8da87e4a",i,!1,{})},1317:function(t,n,e){"use strict";e(1019)},1318:function(t,n,e){(n=e(27)(!1)).push([t.i,"[data-v-3444a93a]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n/* Skeleton start */\n.bookmark[data-v-3444a93a] {\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n}\n.bookmark .icon[data-v-3444a93a] {\n  position: static;\n  fill: #595959;\n  margin-top: 0px;\n  flex-shrink: 0;\n}\n.bookmark__title[data-v-3444a93a] {\n  font-size: 16px;\n  color: #595959;\n  margin-left: 6px;\n  vertical-align: middle;\n  line-height: 24px;\n  font-weight: 500;\n}\n@media (max-width: 320px) {\n.bookmark__title[data-v-3444a93a] {\n    display: none;\n}\n}\n.bookmark__ghost[data-v-3444a93a] {\n  display: none;\n}\n.bookmark--active .icon[data-v-3444a93a] {\n  fill: #4683d9;\n}\n.bookmark--active .bookmark__title[data-v-3444a93a] {\n  color: #4683d9;\n}\n.bookmark--type-content .bookmark__action[data-v-3444a93a] {\n  width: 36px;\n  height: 36px;\n  margin-left: -6px;\n}\n.bookmark--type-content .icon[data-v-3444a93a] {\n  width: 24px;\n  height: 24px;\n}\n.bookmark--type-comment .bookmark__action[data-v-3444a93a] {\n  width: 32px;\n  height: 32px;\n  margin-left: -8px;\n}\n.bookmark--type-comment .icon[data-v-3444a93a] {\n  width: 16px;\n  height: 16px;\n}\n/* Skeleton end */\n.bookmark__action[data-v-3444a93a] {\n  position: absolute;\n  z-index: 1;\n}\n.bookmark:hover:not(.bookmark--just_clicked) .bookmark__title[data-v-3444a93a] {\n  color: #4683d9;\n}\n.bookmark:hover:not(.bookmark--just_clicked) .icon[data-v-3444a93a] {\n  fill: #4683d9;\n}\n.bookmark__ghost[data-v-3444a93a] {\n  display: block;\n  position: absolute !important;\n  z-index: 1;\n  pointer-events: none;\n  opacity: 0;\n}\n.bookmark--animated .bookmark__ghost[data-v-3444a93a] {\n  animation: keyframes-bookmark-data-v-3444a93a 700ms 1 forwards cubic-bezier(0.19, 1, 0.22, 1);\n}\n@-moz-keyframes keyframes-bookmark-data-v-3444a93a {\n0% {\n    transform: scale(1);\n    opacity: 1;\n}\n100% {\n    transform: scale(2.5);\n    opacity: 0;\n}\n}\n@-webkit-keyframes keyframes-bookmark-data-v-3444a93a {\n0% {\n    transform: scale(1);\n    opacity: 1;\n}\n100% {\n    transform: scale(2.5);\n    opacity: 0;\n}\n}\n@-o-keyframes keyframes-bookmark-data-v-3444a93a {\n0% {\n    transform: scale(1);\n    opacity: 1;\n}\n100% {\n    transform: scale(2.5);\n    opacity: 0;\n}\n}\n@keyframes keyframes-bookmark-data-v-3444a93a {\n0% {\n    transform: scale(1);\n    opacity: 1;\n}\n100% {\n    transform: scale(2.5);\n    opacity: 0;\n}\n}\n",""]),t.exports=n},237:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{class:["bookmark","bookmark--type-"+t.typeStr,t.isActive()&&"bookmark--active",t.justClicked&&"bookmark--just_clicked",t.animated&&"bookmark--animated"],attrs:{title:t.title,"data-plumbus":"-11 10","data-gtm":t.gtm},on:{click:t.onClick,mouseleave:t.onMouseLeave}},[t.animated?e("icon",{staticClass:"bookmark__ghost",attrs:{name:t.icon,width:20,height:20}}):t._e(),t._v(" "),e("icon",{attrs:{name:t.icon,width:20,height:20}}),t._v(" "),t.showTitle?e("div",{staticClass:"bookmark__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e()],1)};i._withStripped=!0;var a=e(10),o=e.n(a),r=e(29),s=e(950),c=e(723),d=e(724),m=e(847),p=function(t,n,e,i){return new(e||(e=Promise))((function(a,o){function r(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,s)}c((i=i.apply(t,n||[])).next())}))};var k=o.a.extend({name:"bookmark",components:{Icon:r.a},props:{id:{type:String,required:!0},type:{type:Number,default:m.a},typeStr:{type:String,default:m.b},titles:{type:Array,default:()=>["В закладки","В закладках"]},icons:{type:Array,default:()=>["v_bookmark","v_bookmark_solid"]},showTitle:{type:Boolean,default:!1},initialState:{type:Object,default:()=>({isActive:!1})},gtm:{type:String,default:""}},data:()=>({justClicked:!1,animated:!1,animateTimer:-1}),computed:{title(){return this.titles[this.isActive()?1:0]},icon(){return this.icons[this.isActive()?1:0]}},beforeMount(){this.$store.hasModule(s.a)?this.$store.dispatch(`${s.a}/${d.a}`,{entityType:this.typeStr,id:this.id,state:this.initialState}):this.$store.registerModule(s.a,Object(s.b)({[this.typeStr]:{[this.id]:this.initialState}}))},beforeDestroy(){clearTimeout(this.animateTimer),this.$store.dispatch(`${s.a}/${d.b}`,{entityType:this.typeStr,id:this.id})},methods:{isActive(){return this.$store.getters[`${s.a}/${c.a}`](this.typeStr,this.id)},toggleBookmark(){return p(this,void 0,void 0,(function*(){this.$store.dispatch(`${s.a}/${d.c}`,{entityType:this.typeStr,entityTypeId:this.type,id:this.id});const t=this.isActive();this.animate(t)}))},onClick(){this.justClicked=!0,this.toggleBookmark()},onMouseLeave(){this.justClicked=!1},animate(t){clearTimeout(this.animateTimer),this.animated=!1,t&&(this.animated=!0,this.animateTimer=window.setTimeout(()=>{this.animated=!1},700))}}}),l=(e(1317),e(14)),y=Object(l.a)(k,i,[],!1,null,"3444a93a",null);y.options.__file="web/src/domain/content/bookmark/chunk.bookmark.vue";n.default=y.exports},723:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));const i="GET_IS_ACTIVE"},724:function(t,n,e){"use strict";e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return o}));const i="TOGGLE_ACTIVE",a="ADD_STATE",o="REMOVE_STATE"},847:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return a}));const i=1,a="content"},950:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return k}));var i=e(4),a=e(724),o=e(723);var r=function(t,n,e,i){return new(e||(e=Promise))((function(a,o){function r(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,s)}c((i=i.apply(t,n||[])).next())}))};const s="bookmark",c={},d={[o.a]:t=>(n,e)=>t[n][e].isActive},m={SET_IS_ACTIVE(t,n){t[n.entityType][n.id].isActive=n.isActive},SET_IS_LOADING(t,n){t[n.entityType][n.id].isLoading=n.isLoading},ADD_STATE(t,n){t[n.entityType]?t[n.entityType][n.id]=n.state:t[n.entityType]={[n.id]:n.state}},REMOVE_STATE(t,n){delete t[n.entityType][n.id]}},p={[a.c]({state:t,commit:n},e){return r(this,void 0,void 0,(function*(){if(t[e.entityType][e.id].isLoading)return;const a=!t[e.entityType][e.id].isActive;try{n("SET_IS_LOADING",{entityType:e.entityType,id:e.id,isLoading:!0}),n("SET_IS_ACTIVE",{entityType:e.entityType,id:e.id,isActive:a});const t=yield Object(i.e)({type:"POST",url:"/favorite/change",data:{id:e.id,type:e.entityTypeId,state:a},ignore_error_notify:!0});n("SET_IS_ACTIVE",{entityType:e.entityType,id:e.id,isActive:t.state})}catch(t){n("SET_IS_ACTIVE",{entityType:e.entityType,id:e.id,isActive:!a}),console.error(t)}finally{n("SET_IS_LOADING",{entityType:e.entityType,id:e.id,isLoading:!1})}}))},[a.a]({commit:t},n){t("ADD_STATE",n)},[a.b]({commit:t},n){t("REMOVE_STATE",n)}};function k(t={}){return{namespaced:!0,state:Object.assign(Object.assign({},c),t),getters:d,mutations:m,actions:p}}}}]);