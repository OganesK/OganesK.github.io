(window.webpackJsonp=window.webpackJsonp||[]).push([[83,74],{1022:function(t,e,n){var o=n(1324);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(28).default)("d3c249ec",o,!1,{})},1023:function(t,e,n){var o=n(1326);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(28).default)("57bfaa14",o,!1,{})},1024:function(t,e,n){var o=n(1328);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(28).default)("fb58b376",o,!1,{})},1323:function(t,e,n){"use strict";n(1022)},1324:function(t,e,n){(e=n(27)(!1)).push([t.i,"[data-v-c8e88186]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.news-item[data-v-c8e88186] {\n  position: relative;\n  font-size: 0;\n}\n.news-item__title[data-v-c8e88186] {\n  display: inline;\n  font-size: 17px;\n  line-height: 26px;\n  margin-right: 4px;\n}\n.news-item .comments_counter[data-v-c8e88186] {\n  position: relative;\n  top: 2px;\n}\n.news-item .comments_counter--zero[data-v-c8e88186] {\n  display: none;\n}\n",""]),t.exports=e},1325:function(t,e,n){"use strict";n(1023)},1326:function(t,e,n){(e=n(27)(!1)).push([t.i,"[data-v-9011287c]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.news-widget[data-v-9011287c] {\n  position: relative;\n  padding: 20px;\n  margin-bottom: 28px;\n}\n@media (max-width: 859px) {\n.news-widget[data-v-9011287c] {\n    padding: 20px 16px;\n    margin-bottom: 20px;\n}\n}\n@media (max-width: 859px) {\n.news-widget.l-island-round[data-v-9011287c] {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n}\n}\n.news-widget__content .news-item[data-v-9011287c] {\n  margin-bottom: 12px;\n}\n.news-widget__content .news-item__title[data-v-9011287c] {\n  margin-right: 4px;\n}\n.news-widget__content .news-item[data-v-9011287c]:first-child {\n  margin-top: 0;\n}\n.news-widget__content .news-item[data-v-9011287c]:last-child {\n  margin-bottom: 0;\n}\n.news-widget__content .news-item .comments_counter[data-v-9011287c] {\n  position: relative;\n  vertical-align: bottom;\n}\n.news-widget__footer[data-v-9011287c] {\n  line-height: 24px;\n  height: 24px;\n  margin-top: 16px;\n}\n.news-widget__footer .ui_preloader[data-v-9011287c] {\n  position: absolute;\n  left: 0;\n  top: 6px;\n  display: none;\n}\n.news-widget__load-more[data-v-9011287c] {\n  position: relative;\n  font-weight: 700;\n}\n.news-widget__load-more .icon[data-v-9011287c] {\n  position: static;\n  margin-left: 6px;\n}\n.news-widget .news-widget__content[data-v-9011287c],\n.news-widget .news-widget__footer[data-v-9011287c] {\n  transition: opacity 300ms ease, height 300ms ease;\n  overflow: hidden;\n  will-change: opacity, height;\n}\n.news-widget--loading[data-v-9011287c] {\n  pointer-events: none;\n}\n.news-widget--loading .news-widget__footer[data-v-9011287c] {\n  position: relative;\n}\n.news-widget--loading .news-widget__load-more[data-v-9011287c] {\n  display: none;\n}\n.news-widget--loading .ui_preloader[data-v-9011287c] {\n  display: block;\n}\n",""]),t.exports=e},1327:function(t,e,n){"use strict";n(1024)},1328:function(t,e,n){(e=n(27)(!1)).push([t.i,"[data-v-22679c0e]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.feed__sorting-items[data-v-22679c0e] .ui-rounded-button:first-child .popover {\n  width: 180px !important;\n}\n@media (max-width: 859px) {\n.feed__sorting-items[data-v-22679c0e] .ui-rounded-button:first-child .popover {\n    left: 14px;\n    top: calc(100% - 4px);\n}\n}\n",""]),t.exports=e},17:function(t,e,n){"use strict";function o(t,e,n){!0===n&&(e=JSON.stringify(e));try{localStorage.setItem(t,e)}catch(n){try{localStorage.clear(),localStorage.setItem(t,e)}catch(t){}}}function i(t,e){let n;try{n=localStorage.getItem(t),!0===e&&(n=JSON.parse(n))}catch(t){}return n}function a(t){try{localStorage.removeItem(t)}catch(t){}}function s(t){var e,n=localStorage.length;for(e=0;e<n&&null!==t(localStorage.key(e),e,n);e++);}n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}))},204:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.mods,attrs:{"data-gtm":t.gtm}},[n("a",{staticClass:"comments_counter__count t-link",attrs:{href:t.commentsLink}},[n("span",{staticClass:"comments_counter__count__value_new"},[t._v("\n      "+t._s(t.newCommentsCounter)+"\n    ")]),t._v(" "),n("span",{staticClass:"comments_counter__count__ico"},[n("icon",{attrs:{name:"v_comments",width:24,height:24}})],1),t._v(" "),n("span",{staticClass:"comments_counter__count__value"},[t._v("\n      "+t._s(t.compactCounter)+"\n    ")]),t._v(" "),t.showLabel?n("span",{staticClass:"comments_counter__count__unit"},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()])])};o._withStripped=!0;var i=n(10),a=n.n(i),s=n(29),r=n(41),c=n(7),l=n(17);const d="comments_last_count_";var u=a.a.extend({name:"comments-counter",components:{Icon:s.a},props:{id:{type:Number,default:null},count:{type:Number,default:0},prevCount:{type:Number,default:null},type:{type:String,default:"num"},gtm:{type:String,default:""},link:{type:String,default:""}},data(){return{moduleAuthData:window.Air.import("module.auth_data"),prevCountProcessed:this.prevCount}},computed:{commentsLink(){return this.link+"?comments"},compactCounter(){return Object(c.numberFormatCompact)(this.count)},newCommentsCounter(){return null!==this.prevCountProcessed&&this.count>this.prevCountProcessed?Object(c.numberFormatCompact)(this.count-this.prevCountProcessed):""},showLabel(){return"small"!==this.type},label(){if(this.count>0){const t=1e4;return this.count<t?Object(r.a)(this.count,["комментариев","комментарий","комментарии"]):"комментарии"}return"Обсудить"},mods(){return["comments_counter","comments_counter--"+this.type,0===this.count?"comments_counter--zero":"comments_counter--nonzero",{"comments_counter--has_new":this.newCommentsCounter}]}},created(){this.moduleAuthData.isAuthorized()||(this.prevCountProcessed=this.getPrevCounterFromLocalStorage()||this.prevCount)},methods:{getPrevCounterFromLocalStorage(){return t=this.id,null!==l.b(d+t)?(t=>parseInt(l.b(d+t)||"0"))(this.id):null;var t}}}),m=(n(903),n(14)),_=Object(m.a)(u,o,[],!1,null,"70d8d0c3",null);_.options.__file="web/src/domain/content/comments-counter/chunk.comments-counter.vue";e.default=_.exports},221:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("sorting-filters",{staticClass:"feed__sorting-items",attrs:{items:this.filterList}}),this._v(" "),this.hasNewsWidget?e("news-widget"):this._e()],1)};o._withStripped=!0;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.news.length,expression:"news.length"}],staticClass:"news-widget l-island-bg l-island-a l-island-round",class:[{"news-widget--loading":t.isLoading}]},[n("div",{staticClass:"news-widget__content"},[t.news&&t.news.length?n("div",{staticClass:"news-widget__content__inner"},t._l(t.news,(function(e,o){return n("news-item-component",t._b({key:o,attrs:{position:o+1}},"news-item-component",e,!1))})),1):t._e()]),t._v(" "),n("div",{staticClass:"news-widget__footer"},[t.isLoading?n("preloader"):n("p",{staticClass:"news-widget__load-more t-link",on:{click:t.loadMore}},[n("span",[t._v("Показать ещё")]),t._v(" "),n("icon",{attrs:{width:10,height:9,name:"v_arrow_down"}})],1)],1)])};i._withStripped=!0;var a=n(10),s=n.n(a),r=n(29),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-item l-flex l-fa-baseline lm-block"},[n("div",{staticClass:"l-inline"},[n("a",{staticClass:"news-item__title t-link",attrs:{href:t.url,"data-gtm":t.gtmLinkCaption}},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),n("comments-counter",{attrs:{type:"small",gtm:t.gtmCommentCaption,link:t.url,count:t.counters.count,"prev-count":t.counters.prevCount}})],1)])};c._withStripped=!0;var l=n(204),d=s.a.extend({name:"news-item",components:{CommentsCounter:l.default},props:{url:{type:String,required:!0},title:{type:String,required:!0},counters:{type:Object,required:!0},position:{type:Number,default:0}},computed:{gtmLinkCaption(){return`Popular Feed — News Widget — ${this.position} — Click`},gtmCommentCaption(){return`Popular Feed — News Widget — ${this.position} — Comments — Click`}}}),u=(n(1323),n(14)),m=Object(u.a)(d,c,[],!1,null,"c8e88186",null);m.options.__file="web/src/domain/feed/components/news-widget/news-item.vue";var _=m.exports,p=n(543),v=n(4),h=n(11),g=function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{c(o.next(t))}catch(t){a(t)}}function r(t){try{c(o.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}c((o=o.apply(t,e||[])).next())}))};const f="Popular Feed — News Widget — Show",w="Popular Feed — News Widget — Show More — Click";var b=s.a.extend({name:"news-widget",components:{Icon:r.a,Preloader:p.a,NewsItemComponent:_},data:()=>({news:[],isLoading:!1,lastId:0}),created(){return g(this,void 0,void 0,(function*(){if(yield this.requestNewsData(),this.news.length){const t=document.querySelector("#news-widget-skeleton");t&&t.remove()}}))},mounted(){h.sendDefaultEvent(f)},methods:{loadMore(){h.sendDefaultEvent(w),this.requestNewsData()},requestNewsData(){return g(this,void 0,void 0,(function*(){if(!this.isLoading){this.isLoading=!0;try{const t=yield Object(v.e)({type:"get",url:"/news/more/"+this.lastId,data:{}});this.news=[...this.news,...t.news],this.lastId=t.lastId}finally{this.isLoading=!1}}}))}}}),y=(n(1325),Object(u.a)(b,i,[],!1,null,"9011287c",null));y.options.__file="web/src/domain/feed/components/news-widget/index.vue";var x=y.exports,C=n(934);var k=n(24);const N={feedType:{popular:{sortingTypes:[{label:Object(k.g)().split(",").splice(0,1).join(" "),url:"/popular",isActive:!1,analyticsEvent:"Popular Feed — Sort — Now — Click",sortingName:""},{label:"24 часа",url:"/popular/day",isActive:!1,analyticsEvent:"Popular Feed — Sort — Day — Click",sortingName:"day"},{label:"Неделя",url:"/popular/week",isActive:!1,analyticsEvent:"Popular Feed — Sort — Week — Click",sortingName:"week"},{label:"Месяц",url:"/popular/month",isActive:!1,analyticsEvent:"Popular Feed — Sort — Month — Click",sortingName:"month"},{label:"Год",url:"/popular/year",isActive:!1,analyticsEvent:"Popular Feed — Sort — Year — Click",sortingName:"year"},{label:"Всё время",url:"/popular/all",isActive:!1,analyticsEvent:"Popular Feed — Sort — All Time — Click",sortingName:"all"}]},new:{sortingTypes:[{label:"От −10",url:"/new/from-10",isActive:!1,analyticsEvent:"New Feed — Sort — FromMinus10 — Click",sortingName:"from-10"},{label:"От +5",url:"/new/from5",isActive:!1,analyticsEvent:"New Feed — Sort — FromPlus5 — Click",sortingName:"from5"},{label:"От +10",url:"/new/from10",isActive:!1,analyticsEvent:"New Feed — Sort — FromPlus10 — Click",sortingName:"from10"},{label:"Всё",url:"/new/all",isActive:!1,analyticsEvent:"New Feed — Sort — FromAny — Click",sortingName:"all"}]},my:{sortingTypes:[{label:"По популярности",url:"/my",isActive:!1,analyticsEvent:"My Feed — Sort — By Popularity — Click",sortingName:""},{label:"По дате",url:"/my/new",isActive:!1,analyticsEvent:"My Feed — Sort — By Date — Click",sortingName:"new"}]}}},S={CHANGE_ACTIVE_FILTER(t,e){for(const e in t.feedType){const n=t.feedType[e].sortingTypes.find(t=>t.isActive);if(n){n.isActive=!1;break}}const n=t.feedType[e.pageName].sortingTypes;if(n){const t=n.find(t=>t.sortingName===e.sortingName);t&&void 0!==t.isActive&&(t.isActive=!0)}}};var A={namespaced:!0,state:Object.assign({},N),mutations:S},F={name:"feed",components:{SortingFilters:C.a,NewsWidget:x},vuexModule:A,props:{enableNewsWidget:{type:Boolean,default:!1}},data:()=>({modulePage:window.Air.import("module.page"),currentPage:null,currentSortingFilter:null}),computed:{filterList(){return this.$store.state.feed.feedType[this.currentPage].sortingTypes},hasNewsWidget(){return this.enableNewsWidget&&"popular"===this.currentPage&&""===this.currentSortingFilter}},created(){this.currentPage=this.modulePage.getNavigationName(),this.currentSortingFilter=this.modulePage.getSortingName(),this.$store.commit("feed/CHANGE_ACTIVE_FILTER",{pageName:this.currentPage,sortingName:this.currentSortingFilter})}},P=(n(1327),Object(u.a)(F,o,[],!1,null,"22679c0e",null));P.options.__file="web/src/domain/feed/components/chunk.feed.vue";e.default=P.exports},543:function(t,e,n){"use strict";var o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["v-loader","ui_preloader","ui_preloader--"+this.size,{"ui_preloader--white":"light"===this.mode}]},[e("span",{staticClass:"ui_preloader__dot"}),this._v(" "),e("span",{staticClass:"ui_preloader__dot"}),this._v(" "),e("span",{staticClass:"ui_preloader__dot"})])};o._withStripped=!0;var i={name:"layout-loader",components:{},props:{mode:{type:String,default:"dark"},size:{type:String,default:"default"}},computed:{}},a=n(14),s=Object(a.a)(i,o,[],!1,null,null,null);s.options.__file="src/Components/Ui/vue/layout/layout-loader.vue";e.a=s.exports},729:function(t,e,n){var o=n(853);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(28).default)("1c5aac7c",o,!1,{})},772:function(t,e,n){var o=n(904);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(28).default)("bf24a8a0",o,!1,{})},852:function(t,e,n){"use strict";n(729)},853:function(t,e,n){(e=n(27)(!1)).push([t.i,"[data-v-68ac0c33]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.sorting-filters[data-v-68ac0c33] {\n  padding: 4px 0 12px 8px;\n}\n@media (max-width: 859px) {\n.sorting-filters[data-v-68ac0c33] {\n    padding: 16px 16px 8px 4px;\n}\n}\n.sorting-filters[data-v-68ac0c33] .ui-rounded-button__link {\n  background-color: transparent;\n  box-shadow: none;\n  font-size: 14px;\n  padding-top: 0;\n  padding-bottom: 0;\n  line-height: 20px;\n}\n@media (max-width: 859px) {\n.sorting-filters[data-v-68ac0c33] .ui-rounded-button__link {\n    color: #000;\n}\n}\n.sorting-filters[data-v-68ac0c33] .ui-rounded-button:first-child .popover {\n  transform: none;\n  left: 0;\n}\n",""]),t.exports=e},903:function(t,e,n){"use strict";n(772)},904:function(t,e,n){(e=n(27)(!1)).push([t.i,"[data-v-70d8d0c3]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.comments_counter[data-v-70d8d0c3] {\n  display: inline-flex;\n  vertical-align: top;\n  color: #595959;\n}\n.comments_counter__count[data-v-70d8d0c3] {\n  display: flex;\n  align-items: center;\n}\n.comments_counter__count__ico svg[data-v-70d8d0c3] {\n  display: block;\n}\n.comments_counter__count__ico .icon[data-v-70d8d0c3] {\n  position: static;\n}\n.comments_counter__count__value_new[data-v-70d8d0c3],\n.comments_counter__count__value[data-v-70d8d0c3],\n.comments_counter__count__unit[data-v-70d8d0c3] {\n  line-height: 24px;\n  font-size: 16px;\n  font-weight: 500;\n}\n.comments_counter__count__value[data-v-70d8d0c3] {\n  margin-left: 6px;\n}\n.comments_counter__count__value_new[data-v-70d8d0c3] {\n  margin-right: 4px;\n  display: none;\n}\n.comments_counter__count__value_new[data-v-70d8d0c3]:before {\n  content: '+';\n}\n.comments_counter__count__unit[data-v-70d8d0c3] {\n  display: none;\n  margin-left: 4px;\n}\n.comments_counter--zero .comments_counter__count__value[data-v-70d8d0c3] {\n  display: none;\n}\n.comments_counter--zero .comments_counter__count__unit[data-v-70d8d0c3] {\n  display: block;\n}\n@media (max-width: 359px) {\n.comments_counter--zero .comments_counter__count__unit[data-v-70d8d0c3] {\n    display: none;\n}\n}\n.comments_counter--num .comments_counter__count__value[data-v-70d8d0c3],\n.comments_counter--small .comments_counter__count__value[data-v-70d8d0c3] {\n  margin-left: 4px;\n}\n.comments_counter--small .comments_counter__count__ico svg[data-v-70d8d0c3] {\n  width: 16px;\n  height: 16px;\n}\n.comments_counter--small .comments_counter__count__value[data-v-70d8d0c3] {\n  margin-left: 4px;\n}\n.comments_counter--small .comments_counter__count__value_new[data-v-70d8d0c3] {\n  margin-right: 4px;\n}\n.comments_counter--small .comments_counter__count__value[data-v-70d8d0c3],\n.comments_counter--small .comments_counter__count__value_new[data-v-70d8d0c3] {\n  font-size: 12px;\n}\n.comments_counter--full .comments_counter__count__unit[data-v-70d8d0c3] {\n  display: block;\n}\n.comments_counter--full .comments_counter__count__value_new[data-v-70d8d0c3],\n.comments_counter--full .comments_counter__count__value[data-v-70d8d0c3],\n.comments_counter--full .comments_counter__count__unit[data-v-70d8d0c3] {\n  font-weight: 400;\n}\n.comments_counter--text-only .comments_counter__count__ico[data-v-70d8d0c3],\n.comments_counter--text-only .comments_counter__count__value[data-v-70d8d0c3],\n.comments_counter--text-only .comments_counter__count__value_new[data-v-70d8d0c3] {\n  display: none;\n}\n.comments_counter--text-only .comments_counter__count__unit[data-v-70d8d0c3] {\n  display: block;\n  font-weight: 400;\n  font-size: inherit;\n  line-height: inherit;\n}\n.comments_counter--has_new[data-v-70d8d0c3] {\n  color: #4683d9;\n}\n@media (max-width: 859px) {\n.comments_counter--has_new .comments_counter__count__value[data-v-70d8d0c3] {\n    display: none;\n}\n}\n.comments_counter--has_new .comments_counter__count__value_new[data-v-70d8d0c3] {\n  display: block;\n}\n@media (max-width: 859px) {\n.comments_counter--has_new .comments_counter__count__value_new[data-v-70d8d0c3] {\n    order: 1;\n    margin-right: 0;\n    margin-left: 4px;\n}\n}\n.comments_counter[data-v-70d8d0c3]:hover {\n  color: #3766a9;\n}\n",""]),t.exports=e},934:function(t,e,n){"use strict";var o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sorting-filters"},[e("feed-sorting-filters",{attrs:{items:this.feedFilters}})],1)};o._withStripped=!0;var i=n(10),a=n.n(i);function s(t){const e=t.slice(0),n=[];let o=Object.assign({},e.find(t=>t.isActive)),i=e.slice(0);const a=function t(e,n=1){return e.children&&e.children.length>0?t(e.children.find(t=>t.isActive),++n):n}(o);if(!Object.keys(o).length)return console.error("Active item must be declared"),[];for(let t=0;t<a;t++){if(!(o.children&&o.children.length>0)){o.children=i.slice(0),n.push(o);break}{const t=o.children.slice(0);o.children=i.slice(0),n.push(o),o=Object.assign({},t.find(t=>t.isActive)),i=t.slice(0)}}return n}var r=n(785),c=a.a.extend({name:"sorting-filters",components:{FeedSortingFilters:r.a},props:{items:{type:Array,required:!0}},computed:{feedFilters(){const t=s(this.items);return t.forEach(t=>{t.attr={showActiveItemInDropdown:!0,children:t.children,preSelectedItems:t.label,disabledItems:t.label,gtm:t.gtm}}),t}}}),l=(n(852),n(14)),d=Object(l.a)(c,o,[],!1,null,"68ac0c33",null);d.options.__file="web/src/domain/feed/components/sorting-filters.vue";e.a=d.exports}}]);