(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1025:function(t,n,e){var i=e(1330);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(28).default)("4dd44adb",i,!1,{})},131:function(t,n,e){"use strict";function i(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}function s(t){return 1+--t*t*t*t*t}e.r(n),e.d(n,"easeInOutCubic",(function(){return i})),e.d(n,"easeOutQuint",(function(){return s}))},1329:function(t,n,e){"use strict";e(1025)},1330:function(t,n,e){(n=e(27)(!1)).push([t.i,"[data-v-78f341e8]:root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.feed-navigation[data-v-78f341e8] {\n  background-color: #fff;\n  padding: 0 16px;\n  display: none;\n}\n@media (max-width: 859px) {\n.feed-navigation[data-v-78f341e8] {\n    display: block;\n}\n}\n.feed-navigation .v-tabs[data-v-78f341e8] {\n  --tab-offset: 8px;\n  font-weight: 500;\n}\n.feed-navigation .v-tabs[data-v-78f341e8] .v-tab:not(.v-tab--active) {\n  color: #595959;\n}\n",""]),t.exports=n},19:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return o})),e.d(n,"c",(function(){return r})),e.d(n,"d",(function(){return l}));var i=e(0),s=e(16);const a="mobile",o="desktop",r={SmallMobile:374,IphoneLarge:413,Feed:639,Mobile:859,TwoColumns:959,TwoColumnsAdaptive:999},l={SmallMobile:375,IphoneLarge:414,Feed:640,Mobile:860,TwoColumns:960,TwoColumnsAdaptive:1e3},h={[a]:[0,r.Mobile],[o]:[l.Mobile,4096]};const c=new class{constructor({value:t=null,getter:n=null,bind:e=null}={}){this.value=t,this.getter=n,null!==n&&this.update(),null!==e&&e(this.update.bind(this)),this.handlers={}}update(){this.set(this.getter())}set(t){if(this.value!==t){this.value=t;for(const t in this.handlers)this.handlers[t]&&this.handlers[t](this.value)}}get(){return this.value}on(t){const n=Math.random();return t(this.value),this.handlers[n]=t,function(){this.handlers[n]=null}.bind(this)}is(t){return this.value===t}}({getter:()=>function(){let t=null;for(const n in h){let[e,i]=h[n];e<=Object(s.f)()&&Object(s.f)()<=i&&(t=n)}return t}(),bind:t=>{Object(i.on)(window,"resize",t)}});n.e=c},191:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var i=e(56),s=e(131),a=e(31),o=e(0),r=e(19);const l={defaultMain:"ui-tabs",navigation:"navigation",mod:{prev:"prev",next:"next",overflown:"overflown",start:"start",end:"end"}};function h(t){const{top:n,left:e,right:i,bottom:s,width:a,height:o,x:r,y:l}=t,h={top:n,left:e,right:i,bottom:s,width:a,height:o,x:r,y:l},c=Object.keys(h),d={};return c.forEach(t=>{d[t]=Math.round(h[t])}),d}class c{constructor({element:t}){this.mainContainer=t,this.scrollContainer=null,this.scrollContent=null,this.scrollItems=null,this.navigation=null,this.isScrolling=!1,this.scrolled=0,this.history=[],this.scrollAttemptsCount=0,this.hasPrev=!1,this.hasNext=!1,this.isOverflown=!1,this.scrollTimer=null,this.initTimer=new a.a(this.init.bind(this)),this.initTimer.debounce(300)}init(){this.scrollContainer=o.firstChild(this.mainContainer),this.scrollContent=o.firstChild(this.scrollContainer),this.scrollItems=o.children(this.scrollContent),this.isOverflown=this.checkIsOverflown(),this.isOverflown&&(this.performScroll(0),this.updateNavigationState(),this.enableScroll()),this.initTimer&&(this.initTimer.destroy(),this.initTimer=null)}checkIsOverflown(){return!!this.scrollContainer&&o.scrollWidth(this.scrollContainer)>o.offsetWidth(this.scrollContainer)}getOffset(t){switch(t){case"container":return parseInt(o.css(this.scrollContent,"padding-left"))||0;case"item":return parseInt(o.css(this.scrollItems[0],"margin-right"))||0;case"navigation":return this.getNavigationOffset();default:return 0}}getNavigationOffset(){if(!this.navigation)return 0;const t=r.e.is("mobile")?1:.75,n=this.getOffset("container")?0:this.getOffset("item");return(o.offsetWidth(this.navigation.next)||o.offsetWidth(this.navigation.prev))*t+n}enableScroll(){this.navigation||(this.makeNavigation(),o.bem.add(this.mainContainer,l.mod.overflown),this.scrollToActiveItem(),this.scrollTimer=new a.a(this.onScrollDebounce.bind(this)),o.on(this.scrollContainer,"scroll",this.onScroll.bind(this)))}disableScroll(){this.navigation&&(this.performScroll(0),this.scrollTimer&&(this.scrollTimer.destroy(),this.scrollTimer=null),o.off(this.scrollContainer),o.off(this.mainContainer),o.remove(this.navigation.prev),o.remove(this.navigation.next),o.bem.remove(this.mainContainer,l.mod.overflown),this.navigation=null,this.isScrolling=!1,this.scrolled=0,this.history=[],this.scrollAttemptsCount=0,this.hasPrev=!1,this.hasNext=!1)}makeNavigation(){const t=o.bem.getMainClass(this.mainContainer),n=o.bem.getMainClass(this.mainContainer)+"-"+l.navigation,e=[n];t===l.defaultMain&&e.push("ui-button","ui-button--11"),this.navigation={},this.navigation.prev=o.make("div",e,{innerHTML:o.svgHtml("ui_arrow_right",9,14)}),this.navigation.next=o.clone(this.navigation.prev,!0);Object.keys(this.navigation).forEach(t=>{const n=this.navigation[t];o.data(n,"direction",t),o.bem.add(n,l.mod[t]),o.append(this.mainContainer,n)}),o.delegateEvent(this.mainContainer,"."+n,"click",this.onNavigationPressed.bind(this))}onNavigationPressed({target:t}){const n=o.data(t,"direction");this.onBeforeScroll(n)}getContainerBounds(){const t=o.rect(this.scrollContainer),n=this.getOffset("container"),e=this.getOffset("container")+this.getOffset("navigation");return{left:Math.ceil(t.left+(this.hasPrev?e:n)),right:Math.ceil(t.right-(this.hasNext?e:n)),width(){return this.right-this.left}}}getContentBounds(){const t=o.rect(this.scrollContent),n=this.getOffset("container");return{left:Math.round(t.left+n),right:Math.round(t.right-n),width(){return this.right-this.left}}}setScrollingState(t=!0){o.bem.toggle(this.mainContainer,"scrolling",t),this.isScrolling=t}updateNavigationState(t,n){const e=this.getContainerBounds(),i=this.getContentBounds(),s=e.left-i.left,a=i.right-e.right;"next"===t?(this.hasNext=a>e.width(),this.hasPrev=!0):"prev"===t?(this.hasNext=!0,this.hasPrev=!!(n&&n.index>0)):(this.hasNext=a>this.getOffset("navigation"),this.hasPrev=s>this.getOffset("navigation")),o.bem.toggle(this.mainContainer,"has-next",this.hasNext),o.bem.toggle(this.mainContainer,"has-prev",this.hasPrev)}onBeforeScroll(t="next",n=300){if(this.isScrolling)return;let e=this.findScrollTarget("next",t);e||(this.updateNavigationState(t),e="prev"===t?this.formatScrollTarget(this.scrollItems[0]):this.formatScrollTarget(this.scrollItems[this.scrollItems.length-1])),this.setScrollingState(!0),"next"===t&&this.history.push(this.findScrollTarget("current")),this.updateNavigationState(t,e);const i=this.getContainerBounds(),s=this.getContentBounds();let a=Math.round(Math.abs(e.bounds().left-i.left));const o={left:i.left-s.left,right:s.right-i.right};return"next"===t&&o.right<i.width()&&(a=o.right),"prev"===t&&o.left<i.width()&&(a=o.left),this.scrolled+=a*("prev"===t?-1:1),new Promise(t=>{this.performScroll(-1*this.scrolled,n).then(()=>{this.setScrollingState(!1),t()})})}onScroll(){this.scrollTimer&&!this.isScrolling&&this.scrollTimer.debounce()}onScrollDebounce(){this.updateNavigationState(),this.scrolled=this.scrollContainer.scrollLeft}findScrollTarget(t="next",n="next"){if("next"===t&&"prev"===n){return this.history.pop()}const e=this.getContainerBounds();for(let n=0,i=this.scrollItems.length;n<i;n+=1){const i=this.scrollItems[n],s=h(o.rect(i));if("current"===t?s.left>=e.left:s.right>e.right)return this.formatScrollTarget(i)}return null}formatScrollTarget(t){return{index:this.scrollItems.indexOf(t),item:t,bounds:()=>h(o.rect(t))}}performScroll(t,n=0){return t=Math.abs(t),new Promise(e=>{const a=Date.now(),o=this.scrollContainer.scrollLeft;this.scrollAnimation&&this.scrollAnimation.stop(),n>0?(this.scrollAnimation=new i.a(()=>{let n=t;const i=Object(s.easeOutQuint)((Date.now()-a)/300);i<1?n=Math.round(o+(t-o)*i):(this.scrollAnimation.stop(),e()),this.scrollContainer.scrollLeft=n}),this.scrollAnimation.start()):(this.scrollContainer.scrollLeft=Math.abs(t),e())})}scrollToActiveItem(t=null){if(!(t=t||this.scrollItems.find(t=>o.bem.hasMod(t,"active"))))return;const n=this.getContainerBounds();let e=h(o.rect(t)),i=e.right>n.right;i&&this.onBeforeScroll("next",0).then(()=>{e=h(o.rect(t)),i=e.right>n.right,i&&this.scrollAttemptsCount<3?(this.scrollToActiveItem(t),this.scrollAttemptsCount+=1):this.scrollAttemptsCount=0})}refresh(){this.isOverflown=this.checkIsOverflown(),this.isOverflown?(this.updateNavigationState(),this.enableScroll()):this.disableScroll()}destroy(){this.disableScroll(),this.scrollAnimation&&this.scrollAnimation.stop(),this.scrollTimer&&(this.scrollTimer.destroy(),this.scrollTimer=null),o.off(this.scrollContainer),o.off(this.mainContainer)}}},239:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"feed-navigation"},[n("layout-tabs",{attrs:{items:this.feedNavigation}})],1)};i._withStripped=!0;var s=e(10),a=e.n(s),o=e(572),r=a.a.extend({name:"mobile-feed-navigation",components:{LayoutTabs:o.a},data:()=>({moduleAuthData:window.Air.import("module.auth_data"),modulePage:window.Air.import("module.page"),feedNavigation:[{label:"Популярное",url:"/popular",isActive:!1,gaEvent:"Home — Popular Feed — Click"},{label:"Свежее",url:"/new",isActive:!1,gaEvent:"Home — New Feed — Click"}]}),created(){this.moduleAuthData.isAuthorized()&&this.feedNavigation.push({label:"Моя лента",url:"new"===this.moduleAuthData.get().myFeedDefaultSorting?"/my/new":"/my",isActive:!1,gaEvent:"Home — My Feed — Click"}),this.setActiveFeedTab(this.modulePage.getNavigationName())},methods:{setActiveFeedTab(t){const n=this.feedNavigation.find(n=>n.url.slice(1).split("/")[0]===t);n&&(n.isActive=!0)}}}),l=(e(1329),e(14)),h=Object(l.a)(r,i,[],!1,null,"78f341e8",null);h.options.__file="web/src/domain/feed/components/chunk.mobile-feed-navigation.vue";n.default=h.exports},558:function(t,n,e){var i=e(588);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(28).default)("44c28af2",i,!1,{})},572:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"tabs",staticClass:"v-tabs"},[e("div",{staticClass:"v-tabs__scroll"},[e("div",{staticClass:"v-tabs__content"},[t.isRouter?t._l(t.items,(function(n){return e("router-link",{key:n.url,staticClass:"v-tab",attrs:{to:n.url,tag:"div","exact-active-class":"v-tab--active","data-gtm":n.gaEvent}},[e("span",{staticClass:"v-tab__label"},[t._v("\n            "+t._s(n.label)+"\n\n            "),!n.counter||t.hideTabCounters&&!n.is_show_counter?t._e():e("span",{staticClass:"v-tab__counter"},[t._v("\n              "+t._s(t._f("numberFormat")(n.counter," "))+"\n            ")])])])})):t._l(t.items,(function(n){return e(n.action?"div":"a",{key:n.url,tag:"component",class:["v-tab",{"v-tab--active":n.isActive}],attrs:{href:n.url||!1,"data-gtm":n.gaEvent},on:{click:n.action}},[e("span",{staticClass:"v-tab__label"},[t._v("\n            "+t._s(n.label)+"\n\n            "),!n.counter||t.hideTabCounters&&!n.is_show_counter?t._e():e("span",{staticClass:"v-tab__counter"},[t._v("\n              "+t._s(t._f("numberFormat")(n.counter," "))+"\n            ")])])])}))],2)])])};i._withStripped=!0;var s=e(191),a={name:"layout-tabs",components:{},props:{items:{type:Array,default:()=>[]},isRouter:{type:Boolean,default:!1},hideTabCounters:{type:Boolean,default:!1}},data:()=>({scrollableTabsInstance:null}),computed:{},mounted(){setTimeout(()=>{this.scrollableTabsInstance=new s.a({element:this.$refs.tabs})},0),window.addEventListener("resize",this.refreshScrollableTabs)},beforeDestroy(){window.removeEventListener("resize",this.refreshScrollableTabs),this.scrollableTabsInstance&&this.scrollableTabsInstance.destroy()},methods:{refreshScrollableTabs(){this.scrollableTabsInstance&&this.scrollableTabsInstance.refresh()}}},o=(e(587),e(14)),r=Object(o.a)(a,i,[],!1,null,null,null);r.options.__file="src/Components/Ui/vue/layout/layout-tabs.vue";n.a=r.exports},587:function(t,n,e){"use strict";e(558)},588:function(t,n,e){(n=e(27)(!1)).push([t.i,":root {\n/**\n   * Height of the Mobile App Bar\n   */\n  --mobile-bar-height: calc(50px + env(safe-area-inset-bottom));\n/**\n   * Height of the App Redirect block for anon users\n   */\n  --mobile-app-redirect-height: 56px;\n}\n.v-tabs {\n  --font-size: 16px;\n  --height: 60px;\n  --nav-size: 36px;\n  --tab-offset: 18px;\n  font-size: var(--font-size);\n  height: var(--height);\n  position: relative;\n  min-width: 0;\n}\n@media (max-width: 859px) {\n.v-tabs {\n    --tab-offset: 14px;\n    overflow: hidden;\n}\n}\n.v-tabs__scroll {\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n}\n@media (max-width: 859px) {\n.v-tabs__scroll {\n    overflow-x: auto;\n    padding-bottom: 15px;\n}\n}\n.v-tabs__content {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  vertical-align: top;\n}\n.v-tabs--overflown::before,\n.v-tabs--overflown::after {\n  content: '';\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: calc(var(--nav-size) + var(--nav-size) * 0.25);\n  z-index: 1;\n  display: none;\n}\n.v-tabs--overflown::before {\n  left: 0;\n  background-image: -webkit-gradient(linear, right top, left top, from(rgba(255,255,255,0)), color-stop(40%, #fff));\n  background-image: linear-gradient(-90deg, rgba(255,255,255,0) 0%, #fff 40%);\n}\n.v-tabs--overflown::after {\n  right: 0;\n  background-image: -webkit-gradient(linear, left top, right top, from(rgba(255,255,255,0)), color-stop(40%, #fff));\n  background-image: linear-gradient(90deg, rgba(255,255,255,0) 0%, #fff 40%);\n}\n.v-tabs--scrolling {\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.v-tabs--has-prev::before {\n  display: block !important;\n}\n.v-tabs--has-prev .v-tabs-navigation--prev {\n  visibility: visible;\n}\n.v-tabs--has-next::after {\n  display: block !important;\n}\n.v-tabs--has-next .v-tabs-navigation--next {\n  visibility: visible;\n}\n.v-tab {\n  padding: 0 var(--tab-offset);\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  cursor: pointer;\n}\n.v-tab:first-child {\n  padding-left: 0;\n}\n.v-tab:last-child {\n  padding-right: 0;\n}\n.v-tab:hover {\n  color: #4683d9;\n}\n.v-tab--active {\n  pointer-events: none;\n  font-weight: 500;\n}\n.v-tab--active .v-tab__label {\n  position: relative;\n}\n.v-tab--active .v-tab__label::after {\n  content: '';\n  width: 100%;\n  height: 3px;\n  background-color: #4683d9;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n.v-tab__label {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: baseline;\n  align-items: baseline;\n  height: var(--height);\n  line-height: calc(var(--height) + 1px);\n}\n.v-tab__counter {\n  font-size: 14px;\n  font-weight: 400;\n  margin-left: 6px;\n  color: #595959;\n}\n.v-tabs-navigation {\n  visibility: hidden;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: var(--nav-size);\n  height: var(--nav-size);\n  border-radius: 50%;\n  background-color: #fff;\n  -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.25);\n  box-shadow: 0 1px 3px rgba(0,0,0,0.25);\n  position: absolute;\n  right: calc(var(--nav-size) * -0.25);\n  top: 50%;\n  margin-top: calc(var(--nav-size) * -0.5);\n  z-index: 2;\n  cursor: pointer;\n}\n.v-tabs-navigation .icon {\n  width: calc(var(--nav-size) * 0.25);\n  height: auto;\n}\n.v-tabs-navigation--prev {\n  left: calc(var(--nav-size) * -0.25);\n}\n@media (max-width: 859px) {\n.v-tabs-navigation--prev {\n    left: 5px;\n}\n}\n.v-tabs-navigation--prev .icon {\n  -webkit-transform: rotate(180deg);\n  transform: rotate(180deg);\n  margin-left: -2px;\n}\n.v-tabs-navigation--next {\n  right: calc(var(--nav-size) * -0.25);\n}\n@media (max-width: 859px) {\n.v-tabs-navigation--next {\n    right: 5px;\n}\n}\n.v-tabs-navigation--next .icon {\n  margin-left: 2px;\n}\n.v-tabs-navigation:hover {\n  -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.35);\n  box-shadow: 0 1px 3px rgba(0,0,0,0.35);\n}\n.v-tabs-navigation:active {\n  -webkit-box-shadow: 0 1px 1px rgba(0,0,0,0.35);\n  box-shadow: 0 1px 1px rgba(0,0,0,0.35);\n  -webkit-transform: translateY(1px);\n  transform: translateY(1px);\n}\n",""]),t.exports=n}}]);